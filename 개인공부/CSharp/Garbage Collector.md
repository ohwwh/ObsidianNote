# 정의
---
- C#에서 new를 통해 생성되는 객체들은 모두 heap 영역에 할당 된다
- 이 할당과 해제를 비롯한 메모리 관리를 프로그래머를 대신해 주는 존재가 가비지 콜렉터(Garbage Collector, GC)

### 알아야 하는 개념
---
- #### 루트
	- GC가 수집 대상인지 아닌지를 판단하는 기준. 아래와 같은 객체들을 의미한다
		- 각 스레드가 수행중인 메서드 로컬변수
		- CPU 레지스터 변수가 가지고있는 참조
		- 사용중인 각 타입(클래스)의 정적필드
		- 전역변수
		
- #### Managed Heap
	- GC에 의해 관리되는 힙 영역. C#에서 new를 통해 생성되는 모든 객체들은 이 영역에 할당된다.
		*Q. 관리되지 않는 힙 영역도 있음?*
		- yes.
	- 

## 작동방식
---
1. 현재 수행중인 스레드를 모두 중단하고, GC 스레드를 활성화한다
2. 루트 목록을 생성한다.
3. Managed Heap에 있는 모든 데이터는 일단 쓰레기로 간주한다.
4. 루트 목록을 돌면서, 참조 가능한 모든 객체를 쓰레기 목록에서 제외한다.
5. 쓰레기 데이터들을 삭제한 후, 현재 사용중인 객체의 메모리 위치를 재조정(메모리 컴팩션, Memory Compaction)한다.
	- 메모리 단편화 현상을 제거한다고 보면 된다.