## 개요
---

## 원인
---
- log_mail에서 수령한 메일 리스트를 만들 때, 동일한 mail_no를 가지면 무조건 첫 번째 로그만 가져오도록 작업했음
- SP에서 log_time 역 순으로 정렬했기 때문에, 메일을 읽은 로그(mailActionType = 3)가 수령한 로그(mailActionType = 1)보다 먼저 올 것이라 예상
- log_time이 초 단위까지 동일한 경우를 고려하지 않음
	- 이 경우 수령한 로그가 먼저 올 수 있음
	- 읽은 로그를 못 가져 오기 때문에 미 수령으로 간주됨

## 작업 내용
---
```C#
foreach (var row in everyMaillogs)
{
	if (baseKey != row["MailNo"]?.ToObject<long>())
	{
		baseKey = row["MailNo"].ToObject<long>();
		maillogs.Add(row);
	}
	else
	{
		if (row["MailActionType"]?.ToObject<int>() == 3)
		{
			maillogs.RemoveAt(maillogs.Count - 1);
			maillogs.Add(row);
		}
	}
}
```
- 같은 mail_no를 가진 로그는 어차피 2개밖에 없음(수신, 아이템 수령)
- 두 번째 로그가 존재하고, MailActionType == 3 이라면 첫 번째에 수신 로그를 실수로 넣었다는 뜻이므로, pop하고 수령 로그를 새로 넣어 줌

## TroubleShooting
---

